<!--
  Generated template for the MensajesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    
      <ion-navbar>
        
        <ion-title>{{nombre}}</ion-title>
    
    <ion-buttons end>
    <button ion-button icon-only (click)="mensajes()" >
      <ion-icon name="ios-create-outline"></ion-icon>
      Nuevo
    
    </button >
    </ion-buttons>
    
      </ion-navbar>
    
    </ion-header>  <!-- <pre>
    {{chat | json}}
  </pre> -->




<ion-content padding >
    <ion-refresher (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
    <ion-grid class="grid" *ngIf="conversaciones" >
        <ion-row class="columna-chat">
        
            <ion-col col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 class="grid" >
                <ion-content class="chats-page-content">
                    <ion-list class="chats" no-lines>
                      <ion-item-sliding  *ngFor="let item of conversaciones let i =  index " (click)="seleccionChat(i)" [class.active] ="item.id_conversacion==id_conversacion">
                        <button ion-item class="chat">
                          <img class="chat-picture" src="{{item | fotoCorreo:correo}}">
                          <div class="chat-info">
                            <h2 class="chat-title">{{item.mensajes | nombreCorreo:correo}}</h2>
                            <h2 class="chat-title">{{item.asunto}}</h2>
                            
                            
                   
                          
                          </div>
                        </button>
                        <ion-item-options class="chat-options">
                          <button ion-button color="danger" class="option option-remove">Remover</button>
                        </ion-item-options>
                      </ion-item-sliding>
                    </ion-list>
                  </ion-content>
            </ion-col>
                <ion-col  col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 class="detalle" >
                    <ion-content>
                        
                    <ion-list >
                        
                            <!-- <ion-list-header>Mensajes</ion-list-header> -->
                            <ion-item text-wrap *ngFor="let items of chat"    >
                                <small class="text-muted-right" *ngIf="items.correo_origen == correo" >{{items.fecha | date:'medium'}}</small>
                                <!-- <h3 item-end>{{item.fecha | date:'medium'}}</h3> -->
                                <small class="text-muted" *ngIf="items.correo_origen != correo" >{{items.fecha | date:'medium'}}</small>
                                
                              <ion-avatar item-start *ngIf="items.correo_origen == correo" >
                                <img  src="{{items.foto}}">
                              </ion-avatar>

                              <ion-avatar item-end  *ngIf="items.correo_origen != correo">
                                  <img  src="{{items.foto}}">
                                </ion-avatar>


                              <h2   *ngIf="items.correo_origen == correo"	>{{items.apnom_ori}}</h2>

                              <h2 text-right *ngIf="items.correo_origen != correo">{{items.apnom_ori}}</h2>
                              
                              <p  *ngIf="items.correo_origen == correo"> {{items.cuerpo}}</p>
                              <p text-right *ngIf="items.correo_origen != correo"> {{items.cuerpo}}</p>

                            </ion-item>
                            <!-- <ion-item text-wrap >
                                <small class="text-muted">
                                    <span class="glyphicon glyphicon-time"></span>{{items.fecha | date:'medium'}}</small>
                              <ion-avatar item-end>
                                  <img  src="{{items.foto}}">
                                </ion-avatar>
                              <h2>{{items.apnom_ori}}</h2>
                              <p> {{items.cuerpo}}</p>          
                            </ion-item> -->
                          
                       
                       
                        
                            <!-- <ion-item text-wrap  *ngIf="correo !=correo_destino">
                                <small class="text-muted" [ngClass]="{'pull-right': correo== item.correo_destino, 'pull-left': item.correo_origen==correo}">
                                    <span class="glyphicon glyphicon-time"></span>{{item.fecha | date:'medium'}}</small>
                              <ion-avatar item-end>
                                  <img  src="{{item.foto}}">
                                </ion-avatar>
                              <h2>{{item.apnom_ori}}</h2>
                              <p> {{item.cuerpo}}</p>          
                            </ion-item> -->
                 
                        
                          </ion-list>
                  
                 
                        
                        </ion-content>
                        <ion-item col-12>
                          <ion-label stacked>Message</ion-label>
                          <ion-textarea [(ngModel)]="respuesta"></ion-textarea>
                
                      </ion-item>
                        <ion-buttons end>
                          <button class="send"  ion-button color="secondary" item-right (click)="responderMensaje() ">Enviar</button>
                          
                      </ion-buttons>

                          

                          
                            
                          
                              
                <!-- <ion-list *ngFor="let item of conversaciones" >
              <ion-item>
                                  
            <ion-list-header>
                julio 23 1017 -9
              </ion-list-header>
                        <ion-avatar item-end>
                          <img  src="{{item | fotoCorreo:correo}}">
                        </ion-avatar>
                        <h2>Slimer</h2>
                </ion-item>
             
                
                        <ion-item>
                                                
                          <ion-list-header>
                              julio 23 1017 
                            </ion-list-header>
                          <ion-avatar item-start>
                            <img  src="{{item | fotoCorreo:correo}}">
                          </ion-avatar>
                          <h2>Slimer</h2>
                        </ion-item>
               
                  
                  </ion-list> -->

             


            </ion-col>
            
            
        </ion-row>

 
    </ion-grid>
        


</ion-content>
